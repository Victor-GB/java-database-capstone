## Admin User Stories
**Title:**
Admin user story 1  
_As an admin, I want to log into the portal with my username and password, so that I can manage the platform securely._  
**Acceptance Criteria:**  
1. The login page accepts a valid username and password combination.  
2. Invalid credentials produce a clear error message without revealing which field is incorrect.  
3. Successful login redirects the admin to the dashboard and establishes a secure session.  
**Priority:** High  
**Story Points:** 3  
**Notes:**  
- Enforce strong‑password rules and account lockout after multiple failed attempts.  
- Use HTTPS to protect credentials in transit.

---

**Title:**
Admin user story 2  
_As an admin, I want to log out of the portal, so that I can protect system access when I’m finished._  
**Acceptance Criteria:**  
1. A visible “Logout” button is available on every admin page.  
2. Clicking “Logout” invalidates the session and clears relevant cookies.  
3. After logout, any attempt to visit a protected URL redirects back to the login page.  
**Priority:** High  
**Story Points:** 2  
**Notes:**  
- Ensure logout works even if the session has expired on the server.  
- Consider adding a “You have been logged out” confirmation message.

---

**Title:**
Admin user story 3  
_As an admin, I want to add doctors to the portal, so that they can be assigned appointments and managed by the system._  
**Acceptance Criteria:**  
1. The “Add Doctor” form collects name, specialty, email, and contact info.  
2. All mandatory fields are validated (e.g., valid email format, non‑empty name).  
3. On successful submission, the new doctor appears in the doctor list with an autogenerated ID.  
**Priority:** Medium  
**Story Points:** 5  
**Notes:**  
- Prevent duplicate entries for the same email or national ID.  
- Optionally send a welcome email to the newly added doctor.

---

**Title:**
Admin user story 4  
_As an admin, I want to delete a doctor’s profile from the portal, so that I can remove inactive or departed staff._  
**Acceptance Criteria:**  
1. The doctor list displays a delete icon/button next to each entry.  
2. Clicking delete prompts a confirmation dialog (“Are you sure?”).  
3. Confirming deletion removes the doctor record and flags future appointments for reassignment.  
**Priority:** Medium  
**Story Points:** 3  
**Notes:**  
- Decide between soft‑delete vs. hard‑delete based on data retention policies.  
- If soft‑deleted, mark profile as inactive rather than purging from the database.

---

**Title:**
Admin user story 5  
_As an admin, I want to run a stored procedure in the MySQL CLI to get the number of appointments per month, so that I can track usage statistics._  
**Acceptance Criteria:**  
1. A MySQL stored procedure `sp_get_appointments_per_month()` exists and compiles without errors.  
2. Running `CALL sp_get_appointments_per_month();` returns a result set with `month` and `appointment_count` columns.  
3. The output correctly groups appointment counts by calendar month for the past 12 months.  
**Priority:** Medium  
**Story Points:** 8  
**Notes:**  
- Ensure the procedure handles months with zero appointments.  
- Consider adding parameters to filter by doctor or date range in the future.

---
## Patient User Stories
**Title:**
Patient user story 1  
_As a patient, I want to view a list of doctors without logging in, so that I can explore my options before registering._  
**Acceptance Criteria:**  
1. Non‑authenticated users can navigate to a “Doctors” page or section.  
2. Each doctor entry displays name, specialty, and profile summary.  
3. No personal contact details or booking actions are exposed until after registration/login.  
**Priority:** Medium  
**Story Points:** 3  
**Notes:**  
- Paginate or lazy‑load the list if there are many doctors.

---

**Title:**
Patient user story 2  
_As a patient, I want to sign up using my email and password, so that I can book appointments._  
**Acceptance Criteria:**  
1. The registration form collects email, password, and basic profile info (name, phone).  
2. Email format and password strength are validated; duplicate emails are rejected with a clear error.  
3. On successful registration, the patient is automatically logged in and redirected to their dashboard.  
**Priority:** High  
**Story Points:** 5  
**Notes:**  
- Consider email verification in a future iteration.

---

**Title:**
Patient user story 3  
_As a patient, I want to log in and book an hour‐long appointment to consult with a doctor, so that I can schedule my visit._  
**Acceptance Criteria:**  
1. The login form accepts valid credentials and rejects invalid ones with a generic error message.  
2. After login, the “Book Appointment” flow lets me select a doctor, date, start time, and fixed 1‑hour duration.  
3. A confirmation screen displays appointment details and a unique booking reference.  
**Priority:** High  
**Story Points:** 8  
**Notes:**  
- Prevent overlapping bookings for the same doctor/time slot.

---
Patient user story 4  
**Title:**  
_As a patient, I want to view my upcoming appointments, so that I can prepare accordingly._  
**Acceptance Criteria:**  
1. A “My Appointments” page shows only future appointments.  
2. Each appointment lists date, time, doctor name, and location/room.  
3. If no upcoming appointments exist, a friendly “No upcoming appointments” message is shown.  
**Priority:** Medium  
**Story Points:** 5  
**Notes:**  
- Include a link to reschedule or cancel in future stories.

---

**Title:**
Patient user story 5  
_As a patient, I want to log out of the portal, so that I can secure my account when I’m done._  
**Acceptance Criteria:**  
1. A “Logout” button is visible on every authenticated page.  
2. Clicking it invalidates the session and clears authentication cookies.  
3. After logout, any attempt to access protected pages redirects to the login page with a “You’ve been logged out” notice.  
**Priority:** Medium  
**Story Points:** 2  
**Notes:**  
- Ensure session expiry is handled gracefully even if the user’s session times out server‑side.

---
## Doctor User Stories
**Title:**
Doctor user story 1  
_As a doctor, I want to log into and log out of the portal, so that I can manage my appointments and protect my data._  
**Acceptance Criteria:**  
1. The login page accepts valid doctor credentials and rejects invalid ones with a generic error.  
2. Successful login redirects the doctor to their dashboard and establishes a secure session.  
3. A “Logout” button is visible on every doctor page and, when clicked, invalidates the session and redirects to the login page.  
**Priority:** High  
**Story Points:** 3  
**Notes:**  
- Enforce HTTPS and session timeout policies.  
- Show a confirmation message on logout.

---

**Title:**
Doctor user story 2  
_As a doctor, I want to view my appointment calendar, so that I can stay organized._  
**Acceptance Criteria:**  
1. A “My Calendar” page displays all upcoming appointments in a calendar or list view.  
2. Each entry shows date, time, patient name, and appointment status.  
3. Past appointments are archived or moved to a separate “History” section.  
**Priority:** Medium  
**Story Points:** 5  
**Notes:**  
- Allow switching between daily, weekly, and monthly views in future iterations.

---

**Title:**
Doctor user story 3  
_As a doctor, I want to mark my unavailability, so that patients only see my available slots._  
**Acceptance Criteria:**  
1. On the “My Calendar” page, I can select date(s) and time range(s) to block out.  
2. Blocked slots immediately become unbookable in the patient-facing schedule.  
3. I can edit or remove unavailability entries at any time.  
**Priority:** Medium  
**Story Points:** 5  
**Notes:**  
- Prevent marking slots in the past.  
- Consider recurring unavailability patterns later (e.g., “every Monday 1–3 PM”).

---

**Title:**
Doctor user story 4  
_As a doctor, I want to update my profile with specialization and contact information, so that patients have up‑to‑date details._  
**Acceptance Criteria:**  
1. A “My Profile” page allows editing fields: name, specialty, phone, email, office location.  
2. All mandatory fields are validated (e.g., valid email, non‑empty specialty).  
3. Changes persist immediately and reflect in the public doctor listing.  
**Priority:** Medium  
**Story Points:** 3  
**Notes:**  
- Support adding a profile photo in a future enhancement.

---

**Title:**
Doctor user story 5  
_As a doctor, I want to view patient details for upcoming appointments, so that I can be prepared._  
**Acceptance Criteria:**  
1. From the calendar or appointment list, I can click an appointment and see patient info: name, age, contact, and brief medical history.  
2. Sensitive data is only visible to the assigned doctor and protected by authorization checks.  
3. A “Back to Calendar” link returns me to my calendar view.  
**Priority:** Medium  
**Story Points:** 5  
**Notes:**  
- Future stories can add links to patient records or notes directly from this view.

---
